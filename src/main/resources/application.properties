# --- SERVER & DEPLOYMENT SETTINGS ---
# Listen on 0.0.0.0 so Render?s network can reach you
server.address=0.0.0.0
# Use the PORT Render provides, or 8080 locally
server.port=${PORT:8080}

# Tell Spring to wait for the DB before spinning up JPA
spring.jpa.defer-datasource-initialization=true

# --- DATASOURCE (Hikari) CONFIG FOR RENDER POSTGRES ---
# Build a clean JDBC URL from the pieces Render exposes
spring.datasource.hikari.jdbc-url=jdbc:postgresql://${PGHOST}:${PGPORT}/${PGDATABASE}
# Supply credentials separately
spring.datasource.hikari.username=${PGUSER}
spring.datasource.hikari.password=${PGPASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA/HIBERNATE SETTINGS ---
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true

# --- JWT PROPERTIES ---
app.jwtSecret=${APP_JWTSECRET}
app.jwtExpirationInMs=86400000

# --- REDIS & CACHE (disabled on free tier) ---
spring.cache.type=none
